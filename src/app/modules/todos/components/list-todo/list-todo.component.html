<main>
    <h2 class="todo-title"> {{ TODO.TODOLIST.TITLE }} </h2>


    <div class="button--group">
      <button mat-flat-button color="primary" (click)="addNewTodo()">Ajouter un todo</button>
    </div>
  <mat-table [dataSource]="dataSource " class="mat-elevation-z8">
    <ng-container matColumnDef="title">
      <mat-header-cell mat-header-cell *matHeaderCellDef> Title </mat-header-cell>
      <mat-cell mat-cell *matCellDef="let element">
        {{element.title}}

      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="state">
      <mat-header-cell mat-header-cell *matHeaderCellDef> State </mat-header-cell>
      <mat-cell mat-cell *matCellDef="let element">

        <section class="example-section">
          <mat-checkbox
            class="example-margin"
            [checked]="element.state"
            [disabled]="element.state"
            (click)="$event.stopPropagation(); changeStateTodo(element)"
            >
            {{ element.state ? TODO.TODOLIST.STATE_END :TODO.TODOLIST.STATE_BIGIN  }}
          </mat-checkbox>
        </section>
      </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row
      *matRowDef="let row; columns: displayedColumns;"
      (click)="viewDetailTodo(row)"
      [ngClass]="row.state ? 'barre' : '' "
      ></mat-row>
  </mat-table>
</main>
